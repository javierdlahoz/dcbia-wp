angular.module("angular-wp").controller("MembershipController",function(e,t){e.users={},e.c=-1,e.usernameTaken=!1,e.isSuccess=!1,e.add=function(){e.c++;var t=e.c;e.users[t]={id:t,first_name:"",last_name:"",email:"",password:"",committee:""}},e.remove=function(t){delete e.users[t]},e.initialize=function(){e.users={}},e.setCity=function(){"object"==typeof e.member.city&&(e.member.state=e.member.city.address_components[1].short_name,e.member.city=e.member.city.address_components[0].long_name)},e.register=function(){var r="/api/member/register";e.member.additional_users=e.users,t({url:r,method:"POST",data:jQuery.param(e.member),headers:getContentTypes().form}).success(function(){e.isSuccess=!0})},e.isUsernameTaken=function(){if(e.member.username.length>4){var r="/api/member/check";t({url:r,method:"POST",data:jQuery.param({username:e.member.username}),headers:getContentTypes().form}).success(function(t){e.usernameTaken=t.is_taken})}},angular.element("#address").attr("g-places-autocomplete",""),angular.element("#address").attr("ng-model","address"),angular.element("#city").attr("ng-model","city"),angular.element("#state").attr("ng-model","state")});
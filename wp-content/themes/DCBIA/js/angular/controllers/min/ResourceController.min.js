angular.module("angular-wp").controller("ResourceController",function(e,s,t,a,o){e.resources={},e.formData={},e.resultsInTop=!1,getResources=function(){e.loading=!0,e.resources={},a.getResources(e.formData,function(s){o(function(){e.loading=!1,e.resources=s},500)})},getKeyIssues=function(){e.loading=!0,e.resources={},a.getKeyIssues(e.formData,function(s){o(function(){e.loading=!1,e.resources=s},500)})},setTypeActive=function(s){angular.element(".types").removeClass("active"),angular.element("#keys").removeClass("active"),angular.element("#"+s).addClass("active"),e.isTypeSearch=!0,delete e.formData.key_issue},setActiveKeyIssue=function(s){angular.element(".types").removeClass("active"),angular.element("#keys").addClass("active"),angular.element(".issues").removeClass("active"),console.log(s),null!==s&&angular.element("#heading_"+s).addClass("active"),delete e.formData.resource_type,e.isTypeSearch=!1},e.searchOnlyInText=function(){e.resultsInTop=!0,delete e.formData.key_issue,delete e.formData.resource_type,delete e.formData.subject_of_resource,getResources()},e.search=function(){e.formData.query="",e.resultsInTop=!1,getResources()},e.getResourcesByType=function(s){e.formData.resource_type=s,setTypeActive(s),getResources()},e.getResourcesBySubject=function(s){e.formData.subject_of_resource=s,getResources()},e.getResourcesByKeyIssue=function(s){e.formData.key_issue=s,setActiveKeyIssue(s),getKeyIssues()},e.initial=function(){e.formData.query="",e.resultsInTop=!1,delete e.formData.key_issue,getKeyIssues(),setActiveKeyIssue()}});
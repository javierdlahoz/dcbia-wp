angular.module("angular-wp").controller("MemberController",function(e,r,a,s){replaceSpaces=function(e){return e=e.replace(/ /g,""),e=e.replace(/\//g,"-"),e=e.replace(/\&/g,"-"),e=e.replace(/\./g,"-")},e.members={},e.query={},e.query.page=1,e.query.orderby="first_name",e.query.order="ASC",e.query.resultsPerPage=20,e.query.business_category="",e.increasePage=function(){e.query.page++,e.search()},e.decreasePage=function(){e.query.page--,e.search()},e.setResultsPerPage=function(r){e.query.resultsPerPage=r,e.search()},e.setBusinessCategory=function(r){angular.element(".business-categories").removeClass("active"),angular.element("#"+replaceSpaces(r)).addClass("active"),e.query.business_category=r,e.search()},e.setOrderBy=function(r){angular.element(".member-sort").removeClass("active"),angular.element("#sort-"+r).addClass("active"),"title"==r?(e.query.orderby="first_name",e.query.order="ASC"):(e.query.orderby="date",e.query.order="DESC"),e.search()},e.search=function(){e.loading=!0,s.getMembers(e.query,function(r){e.members=r.users,e.total=r.total,e.pages=r.pages,e.page=r.page,e.fNumber=(r.page-1)*r.limit+1,e.lNumber=r.page*r.limit,e.lNumber>r.total&&(e.lNumber=r.total),e.loading=!1})}});
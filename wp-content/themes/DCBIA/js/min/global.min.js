function updateQueryStringParameter(e,a){for(var n=window.location.search.split("&"),t="",r=!1,i=0;i<n.length;i++)n[i].indexOf(e+"=")>-1&&(n[i]=e+"="+a,r=!0),t=t+n[i]+"&";r===!1&&(t=t+e+"="+a+"&");var s=t.substring(0,t.length-1);return s=changeResourcePageByOne(s),"?"+s}function changeResourcePageByOne(e){if(e.indexOf("resources_page=")>=0){var a=e.split("resources_page=");a[0]+="resources_page=";for(var n=a[1].split("&"),t=a[0]+"1",r=1;r<n.length;r++)t+="&"+n[r];return t}return e}function isFestivalRelated(){window.localStorage.setItem("isRelated",!0)}function strippingHashTags(e){var a=e.indexOf("#");return a>=0?e.substring(a,e.lenght-1):e}function assingClassHelper(e,a){if(void 0!=e)if("event"==e&&(e="calendar"),e=strippingHashTags(e),jQuery("#main-nav li#home").removeClass("active"),"s"!=e.substr(e.length-1,1)&&"blog"!=e&&"calendar"!=e&&"home"!=e&&"about"!=e&&1==a&&(e+="s"),"#"!=e&&""!=e&&e.indexOf("?")<0){jQuery("#menuFrontPage li").parent().find("li.active").removeClass("active");var n=jQuery("#menuFrontPage li#"+e).addClass("active");isInLinks(e)&&(jQuery("#main-nav").find("li a.active").removeClass("active"),jQuery("#main-nav li#"+e).addClass("active")),n.length>0&&(jQuery("#main-nav").find("li a.active").removeClass("active"),jQuery("#main-nav li#resources").addClass("active")),jQuery(".back-to-top").click(function(e){return e.preventDefault(),jQuery("html, body").animate({scrollTop:0},duration),!1})}else jQuery("#main-nav").find("li a.active").removeClass("active"),jQuery("#main-nav li#home").addClass("active")}function asingClassMenu(){var e=document.URL.split("/");assingClassHelper(e[3],!0),assingClassHelper(e[4],!1),e.length<=4?jQuery("#home").addClass("active"):jQuery("#home").removeClass("active")}function isInLinks(e){for(var a=0;a<mainLinks.length;a++)if(e==mainLinks[a])return!0;return!1}function isHome(e){return console.log(e),""==e?!0:!1}function goToAllResourcesIfNoType(){var e=window.location.pathname;if("/resources/"!=e)for(var a=window.location.search.split("&"),n=0;n<a.length;n++){if(a[n].indexOf("type=")>-1){var t=a[n].split("type=");if("*"==t[1])return window.location.pathname="/resources/",!1}e=e+a[n]+"&"}}function formatAsForm(e){for(var a={},n=0;n<e.length;n++){var t=e[n].name;a[t]=e[n].value}return a}function setActiveStateOnMenu(){var e=window.location.pathname;e.indexOf("/about/")>-1?(jQuery("#about").addClass("active"),jQuery("#m-about").addClass("active")):e.indexOf("/join/")>-1?(jQuery("#join").addClass("active"),jQuery("#m-join").addClass("active")):e.indexOf("/advocacy/")>-1?(jQuery("#advocacy").addClass("active"),jQuery("#m-advocacy").addClass("active")):e.indexOf("/sponsors/")>-1?(jQuery("#sponsors").addClass("active"),jQuery("#m-sponsors").addClass("active")):e.indexOf("/events/")>-1||e.indexOf("/event/")>-1?(jQuery("#events").addClass("active"),jQuery("#m-events").addClass("active")):(e.indexOf("/news/")>-1||e.indexOf("/blog/")>-1)&&(jQuery("#news").addClass("active"),jQuery("#m-news").addClass("active"))}function gotoResources(e){jQuery("#areas-of-focus").val(e),jQuery("#areas-form").submit()}var offset=220,duration=500,mainLinks=["home","about","resources","toolkits","festivals","calendar","blog"];jQuery(document).ready(function(){asingClassMenu(),jQuery(window).scroll(function(){jQuery(this).scrollTop()>offset?jQuery(".back-to-top").fadeIn(duration):jQuery(".back-to-top").fadeOut(duration)}),jQuery(".back-to-top").click(function(e){return e.preventDefault(),jQuery("html, body").animate({scrollTop:0},duration),!1})}),jQuery("#main-nav #resources").hover(function(){jQuery(".dropdown-menu-left").slideDown()},function(){jQuery(".dropdown-menu-left").slideUp()}),jQuery(document).ready(function(){0==jQuery("#your-selections-results").children().length&&jQuery("#your-selections-panel").hide()}),"?type=*"==window.location.search&&(window.location.search=""),jQuery(".tt-hint").css("width","100% !important"),jQuery(".tt-hint").css("height","100%"),jQuery(".dropit-submenu").children().hover(function(e){1==jQuery(e.target).parent().parent().parent().hasClass("active")?window.isActive=!0:(window.isActive=!1,jQuery(e.target).parent().parent().parent().addClass("active"))},function(e){window.isActive===!1&&jQuery(e.target).parent().parent().parent().removeClass("active")}),jQuery(document).ready(function(){jQuery("#angular-app").show(),setActiveStateOnMenu()});var icySlide={slider_speed:"5000",slider_auto:"false"};
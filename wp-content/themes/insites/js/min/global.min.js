function updateQueryStringParameter(e,n){for(var a=window.location.search.split("&"),r="",t=!1,i=0;i<a.length;i++)a[i].indexOf(e+"=")>-1&&(a[i]=e+"="+n,t=!0),r=r+a[i]+"&";t===!1&&(r=r+e+"="+n+"&");var o=r.substring(0,r.length-1);return o=changeResourcePageByOne(o),"?"+o}function changeResourcePageByOne(e){if(e.indexOf("resources_page=")>=0){var n=e.split("resources_page=");n[0]+="resources_page=";for(var a=n[1].split("&"),r=n[0]+"1",t=1;t<a.length;t++)r+="&"+a[t];return r}return e}function isFestivalRelated(){window.localStorage.setItem("isRelated",!0)}function strippingHashTags(e){var n=e.indexOf("#");return n>=0?e.substring(n,e.lenght-1):e}function assingClassHelper(e,n){if(void 0!=e)if("event"==e&&(e="calendar"),e=strippingHashTags(e),jQuery("#main-nav li#home").removeClass("active"),"s"!=e.substr(e.length-1,1)&&"blog"!=e&&"calendar"!=e&&"home"!=e&&"about"!=e&&1==n&&(e+="s"),"#"!=e&&""!=e&&e.indexOf("?")<0){jQuery("#menuFrontPage li").parent().find("li.active").removeClass("active");var a=jQuery("#menuFrontPage li#"+e).addClass("active");isInLinks(e)&&(jQuery("#main-nav").find("li a.active").removeClass("active"),jQuery("#main-nav li#"+e).addClass("active")),a.length>0&&(jQuery("#main-nav").find("li a.active").removeClass("active"),jQuery("#main-nav li#resources").addClass("active")),jQuery(".back-to-top").click(function(e){return e.preventDefault(),jQuery("html, body").animate({scrollTop:0},duration),!1})}else jQuery("#main-nav").find("li a.active").removeClass("active"),jQuery("#main-nav li#home").addClass("active")}function asingClassMenu(){var e=document.URL.split("/");assingClassHelper(e[3],!0),assingClassHelper(e[4],!1),e.length<=4?jQuery("#home").addClass("active"):jQuery("#home").removeClass("active")}function isInLinks(e){for(var n=0;n<mainLinks.length;n++)if(e==mainLinks[n])return!0;return!1}function isHome(e){return console.log(e),""==e?!0:!1}function goToAllResourcesIfNoType(){var e=window.location.pathname;if("/resources/"!=e)for(var n=window.location.search.split("&"),a=0;a<n.length;a++){if(n[a].indexOf("type=")>-1){var r=n[a].split("type=");if("*"==r[1])return window.location.pathname="/resources/",!1}e=e+n[a]+"&"}}function formatAsForm(e){for(var n={},a=0;a<e.length;a++){var r=e[a].name;n[r]=e[a].value}return n}function gotoResources(e){jQuery("#areas-of-focus").val(e),jQuery("#areas-form").submit()}var offset=220,duration=500,mainLinks=["home","about","resources","toolkits","festivals","calendar","blog"];jQuery(document).ready(function(){asingClassMenu(),jQuery(window).scroll(function(){jQuery(this).scrollTop()>offset?jQuery(".back-to-top").fadeIn(duration):jQuery(".back-to-top").fadeOut(duration)}),jQuery(".back-to-top").click(function(e){return e.preventDefault(),jQuery("html, body").animate({scrollTop:0},duration),!1})}),jQuery("#main-nav #resources").hover(function(){jQuery(".dropdown-menu-left").slideDown()},function(){jQuery(".dropdown-menu-left").slideUp()}),jQuery(document).ready(function(){0==jQuery("#your-selections-results").children().length&&jQuery("#your-selections-panel").hide()}),"?type=*"==window.location.search&&(window.location.search=""),jQuery(".tt-hint").css("width","100% !important"),jQuery(".tt-hint").css("height","100%"),jQuery(".dropit-submenu").children().hover(function(e){1==jQuery(e.target).parent().parent().parent().hasClass("active")?window.isActive=!0:(window.isActive=!1,jQuery(e.target).parent().parent().parent().addClass("active"))},function(e){window.isActive===!1&&jQuery(e.target).parent().parent().parent().removeClass("active")}),jQuery(document).ready(function(){jQuery("#angular-app").show()});